{% extends "base.html" %}
{% block content %}
<div class="container mt-5 form-container">
    <h2>Manager Signup</h2>
    <form method="POST">
        <div class="mb-3">
            <label class="form-label">Full Name</label>
            <input type="text" name="name" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Email</label>
            <input type="email" name="email" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Password</label>
            <input type="password" name="password" class="form-control" required>
        </div>

        <!-- Country Dropdown -->
        <div class="mb-3">
            <label class="form-label">Select Country</label>
            <select id="country" name="country" class="form-select" required onchange="updateCurrency()">
                <option value="">-- Choose Country --</option>
                {% for item in countries %}
                <option value="{{ item.country }} - {{ item.currency }}">{{ item.country }} ({{ item.currency }})</option>

                {% endfor %}
            </select>
        </div>

        <!-- Currency (auto-filled) -->
        <div class="mb-3">
            <label class="form-label">Currency</label>
            <input type="text" id="currency" name="currency" class="form-control" readonly required>
        </div>

        <button type="submit" class="btn btn-success">Signup</button>
    </form>
</div>

<script>
function updateCurrency() {
    let countrySelect = document.getElementById("country");
    let selectedOption = countrySelect.options[countrySelect.selectedIndex];
    let currencyCode = selectedOption.getAttribute("data-currency");
    document.getElementById("currency").value = currencyCode;
}
</script>
{% endblock %}
